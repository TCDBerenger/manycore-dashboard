<div class="row dashboard">
	<!-- Profiles -->
	<div class="col-auto profile" ng-repeat="profile in selectedProfiles">
		<div class="tile">
			<section>
				<a class="pin hover-text" href ng-click="unselectProfile(profile)">
					<span class="text">deselect</span><span class="fa-stack fa-lg icon">
						<i class="fa fa-thumb-tack fa-stack-1x"></i>
						<i class="fa fa-ban fa-stack-2x"></i>
					</span>
				</a>
				<h2>{{profile.label}}</h2>
				<p class="subtitle">{{profile.desc != null && profile.desc.length > 0 | iif : profile.desc : '&nbsp;' }}</p>
			</section>
			<section>
				<div class="tile-icon"><i class="fa fa-laptop"></i></div>
				<div class="dropdown profile-hardware" dropdown on-toggle="toggled(open)">
					<p>
						<a href class="dropdown-toggle" dropdown-toggle><strong>ran on</strong> <i class="fa fa-caret-square-o-down"></i></a>
						<em>{{profile.hardware.label}}</em>
					</p>
					<div class="panel panel-primary dropdown-menu profile-hardware-menu">
						<div class="panel-heading"><h3 class="panel-title">Hardware details</h3></div>
						<ul class="list-group">
							<li class="list-group-item">
								<h5 class="list-group-item-heading">
									<a href="{{profile.hardware.cpu.link}}" class="pull-right">specs</a>
									<span class="label label-primary">CPU</span> {{profile.hardware.cpu.label}}
								</h5>
								<p class="list-group-item-text">
									<b>Model :</b> {{profile.hardware.cpu.model}}<br />
									<b>Type :</b> {{profile.hardware.cpu.type}}<br />
									<b>Cores :</b> {{profile.hardware.cpu.cores}}<br />
									<b>Clock :</b> {{profile.hardware.cpu.clock}}<br />
									<b>Cache L1 :</b> {{profile.hardware.cpu.l1}}<br />
									<b>Cache L2 :</b> {{profile.hardware.cpu.l2}}<br />
									<b>Cache L3 :</b> {{profile.hardware.cpu.l3}}
								</p>
							</li>
							<li class="list-group-item">
								<h5 class="list-group-item-heading"><span class="label label-primary">RAM</span> {{profile.hardware.ram}}</h5>
							</li>
						</ul>
					</div>
				</div>
			</section>
			<section ng-if="hasData(profile.id)">
				<div class="tile-icon"><i class="fa fa-bar-chart"></i></div>
				<p><strong>duration:</strong> {{data[profile.id].info.duration}} ms</p>
			</section>
		</div>


		<div ng-if="waitingData(profile.id)">
			<i class="fa fa-spinner fa-pulse"></i> <strong>Retreiving data...</strong>
		</div>

		<div class="well" ng-if="waitingData(profile.id)">
			<span class="fa-stack well-icon">
				<i class="fa fa-circle fa-stack-2x"></i>
				<i class="fa fa-spinner fa-pulse fa-stack-1x fa-inverse"></i>
			</span>
			<strong>Retreiving data...</strong>
		</div>

		<div class="tile graphs" ng-if="hasData(profile.id)">
			<section>
				<a href="#/detail/tg/{{encodeSelectedProfile()}}">
					<chart-dash-divergence class="indicator-graph" profileid="{{profile.id}}"></chart-dash-divergence>
				</a>
			</section>
			<section>
				<a href="#/detail/sy/{{encodeSelectedProfile()}}">
					<svg class="indicator-graph indicator-sy">
						<text fill="#000000" font-size="10" font-family="Verdana" x="5" y="15">Synchronisation graph here</text>
					</svg>
				</a>
			</section>
			<section>
				<a href="#/detail/ds/{{encodeSelectedProfile()}}">
					<svg class="indicator-graph indicator-ds">
						<text fill="#000000" font-size="10" font-family="Verdana" x="5" y="15">Data sharing graph here</text>
					</svg>
				</a>
			</section>
			<section>
				<a href="#/detail/lb/{{encodeSelectedProfile()}}">
					<svg class="indicator-graph indicator-lb">
						<text fill="#000000" font-size="10" font-family="Verdana" x="5" y="15">Load balancing graph here</text>
					</svg>
				</a>
			</section>
			<section>
				<a href="#/detail/dl/{{encodeSelectedProfile()}}">
					<svg class="indicator-graph indicator-dl">
						<text fill="#000000" font-size="10" font-family="Verdana" x="5" y="15">Data locality graph here</text>
					</svg>
				</a>
			</section>
			<section>
				<a href="#/detail/rs/{{encodeSelectedProfile()}}">
					<svg class="indicator-graph indicator-rs">
						<text fill="#000000" font-size="10" font-family="Verdana" x="5" y="15">Ressource sharing graph here</text>
					</svg>
				</a>
			</section>
			<section>
				<a href="#/detail/io/{{encodeSelectedProfile()}}">
					<svg class="indicator-graph indicator-io">
						<text fill="#000000" font-size="10" font-family="Verdana" x="5" y="15">Input/Output graph here</text>
					</svg>
				</a>
			</section>
		</div>
	</div>


	<!-- Selection -->
	<div ng-if="canAddProfile()" class="col-auto ctrl"><div class="well">
		<span class="fa-stack well-icon">
			<i class="fa fa-circle fa-stack-2x"></i>
			<i class="fa fa-thumb-tack fa-stack-1x fa-inverse"></i>
		</span>
		<h2>{{! hasSelectedProfile() | iif : "Add a sample" : "Compare with"}}</h2>
		<div class="list-group ctrl-element">
			<a href ng-click="selectProfile(profile)" class="list-group-item" ng-repeat="profile in availableProfiles | orderBy:'label'">
				<h4 class="list-group-item-heading">{{profile.label}}</h4>
				<p class="list-group-item-text">{{profile.desc}}</p>
			</a>
		</div>
		<div class="alert alert-dismissible alert-info ctrl-element ctrl-add-nomore" ng-show="availableProfiles.length == 0">
			<i class="fa fa-2x fa-frown-o" style="float: left; margin-right: 8px;"></i>
			<strong>Sorry</strong><br />
			not enough sample are available
		</div>

	</div></div>


	<!-- Control -->
	<div ng-if="hasProfiles()" class="col-auto ctrl">
		<div class="well">
			<span class="fa-stack well-icon">
				<i class="fa fa-circle fa-stack-2x"></i>
				<i class="fa fa-wrench fa-stack-1x fa-inverse"></i>
			</span>
			<h2>&nbsp;</h2>
			<p ng-if="hasProfiles()"><a class="action" href ng-click="unselectAllProfiles()">
				<span class="fa-stack icon">
					<i class="fa fa-thumb-tack fa-stack-1x"></i>
					<i class="fa fa-ban fa-stack-2x"></i>
				</span><span class="text">deselect all</span>
			</a></p>
			<p ng-if="has2Profiles()"><a class="action" href ng-click="invertProfiles()">
				<span class="fa-stack icon">
					<i class="fa fa-circle fa-stack-2x"></i>
					<i class="fa fa-exchange fa-stack-1x fa-inverse"></i>
				</span><span class="text">invert</span>
			</a></p>
		</div>
		<div class="well">
			<span class="fa-stack well-icon">
				<i class="fa fa-circle fa-stack-2x"></i>
				<i class="fa fa-text-width fa-stack-1x fa-inverse"></i>
			</span>
			<h2>&nbsp;</h2>
			<p>Refine the relevant sequence:</p>
			<pre>TODO</pre>
		</span>
	</div>

</div>