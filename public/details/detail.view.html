<!-- Waiting -->
<div class="row" ng-if="isWaiting()"><div class="col-xs-12 waiting"><div class="block">
	<i class="fa fa-spinner fa-pulse"></i>
	<strong>Retrieving data...</strong>
</div></div></div>

<!-- Display data -->
<div class="row" ng-if="! isWaiting()">
	<div class="col-xs-12 profile">
		<h2>{{meta.label}}</h2> for
		<span>{{profiles[0].label}}</span>
		<span class="dropdown profile-versus {{profiles.length == 1 | iif : 'one-profile' : 'two-profiles'}}">
			<a href class="dropdown-toggle"><spans class="label label-default">{{profiles.length > 1 | iif : 'versus' : 'info'}} <i class="fa fa-caret-down"></i></a>
			<div class="dropdown-menu">
			<table class="table table-striped table-hover">
				<thead ng-if="profiles.length > 1">
					<tr>
						<th>{{profiles[0].label}}</th>
						<th></th>
						<th ng-if="profiles.length == 2">{{profiles[1].label}}</th>
					</tr>
				</thead>
				<tbody>
					<tr class="info"><td colspan="{{profiles.length > 1 | iif : '3' : '2'}}">Stats</td></tr>
					<tr>
						<td><span>ms</span>{{profiles[0].currentData.info.duration}}</td>
						<td>duration</td>
						<td ng-if="profiles.length == 2"><span>ms</span>{{profiles[1].currentData.info.duration}}</td>
					</tr>
					<tr>
						<td>{{profiles[0].currentData.stats.h}}</td>
						<td>threads</td>
						<td ng-if="profiles.length == 2">{{profiles[1].currentData.stats.h}}</td>
					</tr>
					<tr>
						<td><span>10⁶</span><span>&nbsp;</span><span>×</span>{{profiles[0].currentData.stats.c / 1000000000 | number: 0}}</td>
						<td>cycles</td>
						<td ng-if="profiles.length == 2"><span>10⁶</span><span>&nbsp;</span><span>×</span>{{profiles[1].currentData.stats.c / 1000000000 | number: 0}}</td>
					</tr>
					<tr>
						<td><span>%</span>{{profiles[0].currentData.stats.r * 100 / (profiles[0].currentData.stats.r + profiles[0].currentData.stats.y + profiles[0].currentData.stats.s + profiles[0].currentData.stats.w) | number: 0}}</td>
						<td>running</td>
						<td ng-if="profiles.length == 2"><span>%</span>{{profiles[1].currentData.stats.r * 100 / (profiles[1].currentData.stats.r + profiles[1].currentData.stats.y + profiles[1].currentData.stats.s + profiles[1].currentData.stats.w) | number: 0}}</td>
					</tr>
					<tr class="info"><td colspan="{{profiles.length > 1 | iif : '3' : '2'}}">Hardware</td></tr>
					<tr>
						<td>{{profiles[0].hardware.data.pcores}} / {{profiles[0].hardware.data.lcores}}</td>
						<td>cores (physical&nbsp;/&nbsp;logical)</td>
						<td ng-if="profiles.length == 2">{{profiles[1].hardware.data.pcores}} / {{profiles[1].hardware.data.lcores}}</td>
					</tr>
					<tr>
						<td>{{profiles[0].hardware.data.type}} bits</td>
						<td>type</td>
						<td ng-if="profiles.length == 2">{{profiles[1].hardware.data.type}} bits</td>
					</tr>
					<tr>
						<td><span>GHz</span>{{profiles[0].hardware.data.clock}}</td>
						<td>clock</td>
						<td ng-if="profiles.length == 2"><span>GHz</span>{{profiles[1].hardware.data.clock}}</td>
					</tr>
					<tr>
						<td><span>KB</span>{{profiles[0].hardware.data.l1}}</td>
						<td>cache L1</td>
						<td ng-if="profiles.length == 2"><span>KB</span>{{profiles[1].hardware.data.l1}}</td>
					</tr>
					<tr>
						<td><span>KB</span>{{profiles[0].hardware.data.l2}}</td>
						<td>cache L2</td>
						<td ng-if="profiles.length == 2"><span>KB</span>{{profiles[1].hardware.data.l2}}</td>
					</tr>
					<tr>
						<td><span>KB</span>{{profiles[0].hardware.data.l3}}</td>
						<td>cache L3</td>
						<td ng-if="profiles.length == 2"><span>KB</span>{{profiles[1].hardware.data.l3}}</td>
					</tr>
					<tr>
						<td><span>GB</span>{{profiles[0].hardware.data.ram / 1048576 | number : 0}}</td>
						<td>RAM</td>
						<td ng-if="profiles.length == 2"><span>GB</span>{{profiles[1].hardware.data.ram / 1048576 | number : 0}}</td>
					</tr>
				</tbody>
			</table>
			</div>
		</span>
		<span ng-if="profiles.length > 1">{{profiles[1].label}}</span>
	</div>
	
	<!-- Ruler -->
	<div id="ruler" style="display: none" data-ng-init="initRuler()">
		<span class="label label-focus">? ms</span>
		<div class="line"></div>
		<span class="label label-focus">? ms</span>
		<div id="{{::rule.id}}" class="facet-rule" ng-repeat="rule in rules">
			<i class="fa fa-circle" style="color: {{::rule.f.color}}"></i>
			<span class="rule-value">?? %</span> {{::rule.f.label}} 
		</div>
		<div id="{{::pin.id}}" class="facet-pin facet-pin-value" ng-repeat="pin in valuedPins">
			<i class="fa fa-circle" style="color: {{::pin.f.color}}"></i>
			<span class="pin-value">? %</span> {{::pin.l}} 
		</div>
	</div>
	
	<!-- Widget line (repeat) -->
	<div class="col-xs-12 widget-line" ng-repeat="(iw, widget) in meta.widgets" ng-init="initWidget(widget)">
		<div ng-if="isOutofVersion(widget)" ng-include="'/details/widgets/missing.view.html'"></div>
		<div ng-if="isUpToVersion(widget) && widget.wide" ng-include="'/details/widgets/widgets.view.html'"></div>
		<div ng-if="isUpToVersion(widget) && ! widget.wide" class="row">
			<div class="col-xs-{{layout.colXS.graph}} col-sm-{{layout.colSM.graph}} col-md-{{layout.comMD.graph}} col-lg-{{layout.colLG.graph}} widgets" ng-include="'/details/widgets/widgets.view.html'"></div>
			<div class="col-xs-{{layout.colXS.data}} col-sm-{{layout.colSM.data}} col-md-{{layout.comMD.data}} col-lg-{{layout.colLG.data}} aside" ng-include="'/details/aside/aside.view.html'"></div>
		</div>
	</div>
</div>