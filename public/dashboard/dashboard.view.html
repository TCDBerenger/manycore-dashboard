
<!-- -- -- -- -- -- -- -- -- -- -- -- -->
<!--	Wizard						  -->
<!-- -- -- -- -- -- -- -- -- -- -- -- -->
<div class="wizard alert alert-info" ng-class="{'hidden': ! canAddProfile()}">
	
	<!-- Step analyse -->
	<div class="tile" ng-if="isStepAnalyse()">
		<span class="tile-icon fa-stack">
			<i class="fa fa-circle fa-stack-2x"></i>
			<i class="fa fa-hand-o-right fa-stack-1x text-info"></i>
		</span>
		<h2><strong>Step 2</strong> find Waldo</h2>
		<p>Check all the indicators. <i class="fa fa-question-circle" style="cursor: help;" tooltip-html="stepTooltipAnalyse"></i></p>
		<!--<div>
			<span class="label label-info" style="margin-right: 6px;">info</span>
			<p style="display: inline-block; vertical-align: text-top;">
				<span class="text-success">green</span>: it works!<br />
				<span class="text-primary">blue</span>: area for improvement<br />
				<span class="text-danger">red</span>, <span class="text-warning">yellow</span> and <span class="text-muted">all other colours</span>: possible problem
			</p>
		</div>-->
		<p>If an indicator seems dubious, click on it to show detailled information and follow the investigation.</p>
	</div>
	
	<!-- Step 1 and 1bis (selection) -->
	<div class="tile">
		<span class="tile-icon fa-stack">
			<i class="fa fa-circle fa-stack-2x"></i>
			<i class="fa fa-hand-o-right fa-stack-1x text-info"></i>
		</span>
		<h2 ng-if="isStep1()"><strong>Step 1</strong> select a sample</h2>
		<h2 ng-if="isStep1Compare()"><strong>Step 1 bis</strong> compare</h2>
		<p>&nbsp;</p>
		<p class="profile-group">
			<button type="button" class="btn {{ profile.version < 4 | iif : 'btn-default' : 'btn-primary'}} btn-xs" ng-click="selectProfile(profile)" ng-repeat="profile in profiles | enabled | notin : selectedProfiles | orderBy : 'label'" tooltip="{{profile.desc}}">{{profile.label}}</button>
		</p>
		<p>
			<button type="button" class="btn btn-primary btn-xs"></button> in accordance with last data revision<br />
			<button type="button" class="btn btn-default btn-xs"></button> some data are missing (thread locks)<br />
			<button type="button" class="btn btn-info btn-xs" tooltip="description" tooltip-enable="true"></button> description of the sample is in tooltip (when available)
		</p>
	</div>
</div>

<!-- -- -- -- -- -- -- -- -- -- -- -- -->
<!--	Profiles & categories		  -->
<!-- -- -- -- -- -- -- -- -- -- -- -- -->
<div class="row heading">
	<ng-include src="'/template_profile.html'" ng-if="willProfile(0)" ng-init="pindex = 0"></ng-include>
	
	<!-- Main -->
	<div class="col-xs-6"><div class="row">
		<!-- Step 1 (welcome message) -->
		<div ng-if="isStep1()" class="col-xs-8 col-xs-offset-2"><div class="block block-imp block-title">
			<span class="block-icon fa-stack">
				<i class="fa fa-circle fa-stack-2x"></i>
				<i class="fa fa-hand-spock-o fa-stack-1x fa-inverse"></i>
			</span>
			<h2>Welcome</h2>
			<p>
				TODO
			</p>
			<p><strong class="text-info">Temporal data.</strong> You'll see two different type of time measures.<br />
			Most of them are done during a <u>50 ms</u> time frame and graphs cannot be accurate within this frame.<br />
			The events have their exact time but rounded to the millisecond; so frequent events (i.e. context switches) could mask other events within this round.</p>
			<p><strong class="text-warning">Be careful.</strong> This tool is created for a research purpose and is in constant evolution.
			Graphs could contain some mistakes and data could be miscomputed.</p>
		</div></div>
		
		<!-- Step analyse -->
		<!--<div ng-if="has2Profiles()" class="col-auto" style="max-width: 425px;"><div class="block block-title">
			<span class="block-icon fa-stack text-info">
				<i class="fa fa-circle fa-stack-2x"></i>
				<i class="fa fa-hand-o-right fa-stack-1x fa-inverse"></i>
			</span>
			<h2><strong class="text-info">Step 2</strong> find Waldo</h2>
			<p>Check all the indicators. <i class="text-info fa fa-question-circle" style="cursor: help;" tooltip-html="stepTooltipAnalyse"></i></p>
			<p>If an indicator seems dubious, click on it to show detailled information and follow the investigation.</p>
		</div></div>-->
		
		<!-- Category -->
		<!--<div ng-if="has2Profiles()" class="col-auto"><div class="block block-title">
			<span class="block-icon fa-stack">
				<i class="fa fa-circle fa-stack-2x"></i>
				<i class="fa fa-eye fa-stack-1x fa-inverse"></i>
			</span>
			<h2>Quick access</h2>
			<div class="category-group">
				<a ui-sref='detail({cat: category.tag, ids: encodeSelectedProfile()})' ng-repeat="category in categories | enabled"><button type="button" class="btn btn-link btn-xs"><i class="fa fa-{{category.icon}}"></i>{{category.title}}</button></a>
			</div>
		</div></div>-->
		
		<!-- Control -->
		<!--
		<div ng-if="has2Profiles()" class="col-auto ctrl"><div class="block">
			<span class="block-icon fa-stack">
				<i class="fa fa-circle fa-stack-2x"></i>
				<i class="fa fa-wrench fa-stack-1x fa-inverse"></i>
			</span>
			<p><a class="action" href ng-click="unselectAllProfiles()">
				<span class="fa-stack icon">
					<i class="fa fa-thumb-tack fa-stack-1x"></i>
					<i class="fa fa-ban fa-stack-2x"></i>
				</span><span class="text">deselect all</span>
			</a></p>
			<p><a class="action" href ng-click="invertProfiles()">
				<span class="fa-stack icon">
					<i class="fa fa-circle fa-stack-2x"></i>
					<i class="fa fa-exchange fa-stack-1x fa-inverse"></i>
				</span><span class="text">invert</span>
			</a></p>
		</div></div>
		-->
	</div></div>
	
	<ng-include src="'/template_profile.html'" ng-if="willProfile(1)" ng-init="pindex = 1"></ng-include>
</div>

<div class="row category" ng-if="hasProfiles()" ng-repeat="category in categories | enabled">
	<!-- Strips (profile 1) -->
	<ng-include src="'/template_profile_strips.html'" ng-init="pindex = 0"></ng-include>
	
	<!-- Main -->
	<div class="col-xs-6 category-main">
		<!-- Title -->
		<!--<div class="title" ng-class="{'for1': has1Profile(), 'for2': has2Profiles()}">
			<hr/><i class="fa fa-{{category.icon}} text-muted"></i><span>{{category.title}}</span><i class="fa fa-{{category.icon}} text-muted"></i><hr/>
		</div>-->
		<div class="title" ng-class="{'for1': has1Profile(), 'for2': has2Profiles()}"><hr/><span>{{category.title}}</span><hr/></div>
		
		<!-- Gauges -->
		<chart-gauges class="widget-graph"></chart-gauges>
	</div>
		
	<!-- Strips (profile 2) -->
	<ng-include src="'/template_profile_strips.html'" ng-if="has2Profiles()" ng-init="pindex = 1"></ng-include>
</div>

<!-- Profiles -->
<script type="text/ng-template" id="/template_profile.html">
	<!-- Waiting -->
	<div ng-if="waitProfile(pindex)" class="col-xs-3 ctrl"><div class="block">
		<span class="block-icon fa-stack">
			<i class="fa fa-circle fa-stack-2x"></i>
			<i class="fa fa-spinner fa-pulse fa-stack-1x fa-inverse"></i>
		</span>
		<strong>Retrieving data...</strong>
	</div></div>
	
	<!-- Profile -->
	<div ng-if="hasProfile(pindex)" class="col-xs-3 profile hovermodal"><div class="tile" ng-init="profile = selectedProfiles[pindex]">
		
		<!-- pin -->
		<aside class="hover-text">
			<a href ng-click="unselectProfile(profile)">
				<span class="text">deselect</span><span class="fa-stack fa-lg icon">
					<i class="fa fa-thumb-tack fa-stack-1x"></i>
					<i class="fa fa-ban fa-stack-2x"></i>
				</span>
			</a><br />
			<a href ng-click="invertProfiles()" ng-if="has2Profiles()">
				<span class="text">invert</span><span class="fa-stack fa-lg icon">
					<i class="fa fa-circle fa-stack-2x"></i>
					<i class="fa fa-exchange fa-stack-1x fa-inverse"></i>
				</span>
			</a>
		</aside>
		
		<!-- main -->
		<section class="title">
			<h2>{{iProfile().label}}</h2>
			<p class="subtitle" tooltip="{{iProfile().desc}}" tooltip-placement="bottom">
				{{iProfile().desc}}
			</p>
		</section>
	</div>
	
	<!-- Sequence -->
	<div class="tile tile-sequence">
		<section class="sequence">
			<chart-sequence class="widget-graph"></chart-sequence>
		</section>
	</div>

	<!-- Running -->
	<div class="tile">
		<section class="strip" ng-repeat="strip in commonCategory.strips">
			<chart-strip class="widget-graph"></chart-strip>
		</section>
	</div></div>
</script>

<!-- Profiles - strips -->
<script type="text/ng-template" id="/template_profile_strips.html">
	<div class="col-xs-3 profile"><div class="tile">
		<section class="strip" ng-repeat="strip in category.strips">
			<a ui-sref='detail({cat: category.tag, ids: encodeSelectedProfile()})'>
				<chart-strip class="widget-graph"></chart-strip>
			</a>
		</section>
	</div></div>
</script>